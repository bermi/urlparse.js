<html>
<head>
	<title> urlmatch library overview </title>
  <script type="text/javascript" src="tests/doctestjs/doctest.js"></script>
  <link rel="stylesheet" type="text/css" href="tests/doctestjs/doctest.css" />
</head>
<body class="autodoctest">
<h2> urlmatch.js overview </h2>

<p>
  The urlmatch.js library provides basic url parsing, validation, and normalization
  features.  This document is a brief tour of those features
</p>

The first feature of urlmatch is its ability to parse a url into components:

<pre class="doctest">
$ print(URLParse("http://google.com/"));
{
    "directory": "/",
    "path": "/",
    "relative": "/",
    "host": "google.com",
    "authority": "google.com",
    "scheme": "http",
    "source": "http://google.com/"
}
</pre>

urlmatch can also validate urls:

<pre class="doctest">
$ URLParse("httpe://www.google.com/").validate();
Error: invalid url: unsupported scheme: httpe
</pre>

can also normalize urls:

<pre class="doctest">
$ URLParse("http://www.google.com:80/foo/../bar/").normalize();
http://www.google.com/bar/
</pre>

And finally, urlmatch can combine all of these features to support
robust url prefix matching:
<pre class="doctest">
$ var contains = function(url1, url2) { writeln(URLParse(url1).contains(url2)); };
$ contains("http://doma.in/appscope/", "http://doma.in/appscope/somepath/../../attack.html");
false
$ contains("http://doma.in/appscope/", "http://doma.in/appscope/somepath/../not_attack.html");
true
</pre>

<pre id="doctestOutput"></pre>
</body>
<script type="text/javascript">
function print(o) {
  writeln(JSON.stringify(o, null, 4));
}
</script>
<script type="text/javascript" src="urlmatch.js"></script>
</html>
