<html>
<head>
	<title> urlmatch tests </title>
  <script type="text/javascript" src="doctestjs/doctest.js"></script>
  <link rel="stylesheet" type="text/css" href="doctestjs/doctest.css" />
  <script type="text/javascript" src="../urlmatch.js"></script>
</head>
<body>
<h2> urlmatch.js tests </h2>

<p>
</p>

<div>
  <button onclick="doctest()" type="button">run tests</button>
  <pre id="doctestOutput"></pre>
</div>

Now test "url validation".  This test uses a database of test urls lifted
from Steven Levithan's parseUri demo at  
http://stevenlevithan.com/demo/parseuri/js/assets/demo.js.

<pre class="doctest">
$ var validate = function(s) { return URLParse(s).validate(); };
$ validate("http://apps.mozillalabs.com");
$ validate("!@#%!$^!^$"); 
Error: invalid url: missing scheme
$ validate("://host.com"); 
Error: invalid url: missing scheme
$ validate("bogus://apps.mozillalabs.com");
Error: invalid url: unsupported scheme: bogus
$ validate("http:");
Error: invalid url: missing host
$ validate("http://host.com:76543");
Error: invalid url: port out of range (76543)
$ validate("http://host.com:0");
Error: invalid url: port out of range (0)
$ validate("http://host.com:12.34");
Error: invalid url: path must start with '/'
$ validate("http://user:pass@host.com:81#anchor");
</pre>
</body>
</html>
